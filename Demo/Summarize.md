
## ۱️⃣ HTTP چیست؟

- مخفف **HyperText Transfer Protocol**
    
- یه **پروتکل (قانون و زبان) برای انتقال داده بین مرورگر و سرور**ه
    
- اساس وب و APIهاست
    
- HTTP خودش **stateless**ه؛ یعنی هر درخواست مستقل از قبلیه
    

---

## ۲️⃣ جریان اصلی درخواست و پاسخ

وقتی تو مرورگر یه URL می‌زنی یا فرم می‌فرستی:

1. **مرورگر یه HTTP Request می‌سازه**
    
    - نوع متد: GET یا POST یا PUT یا DELETE
        
    - مسیر (Endpoint) و هدرها (Headers)
        
    - داده (Body) اگه POST باشه
        
2. **درخواست از طریق اینترنت به سرور میره**
    
    - DNS → پیدا کردن IP سرور
        
    - TCP/HTTPS → برقراری ارتباط و رمزگذاری (HTTPS)
        
3. **سرور درخواست رو پردازش می‌کنه**
    
    - تصمیم می‌گیره چی برگردونه (HTML، JSON، فایل و ...)
        
4. **سرور یه HTTP Response می‌فرسته**
    
    - شامل هدرها و بدنه (Body)
        
5. **مرورگر جواب رو دریافت و نمایش میده**
    

---

## ۳️⃣ متدهای HTTP

|متد|کاربرد ساده|
|---|---|
|GET|گرفتن داده‌ها (صفحه یا API)|
|POST|ارسال داده جدید به سرور|
|PUT|جایگزینی کل داده موجود|
|PATCH|تغییر بخشی از داده|
|DELETE|حذف داده|

---

## ۴️⃣ Header ها

- **Request Header**: اطلاعات مرورگر یا کلاینت برای سرور  
    مثال: `User-Agent`, `Accept`, `Host`
    
- **Response Header**: اطلاعات سرور درباره پاسخ  
    مثال: `Content-Type`, `Set-Cookie`, `Cache-Control`
    

---

## ۵️⃣ کوکی (Cookie)

- تکه داده‌ای که سرور می‌فرسته و مرورگر ذخیره می‌کنه
    
- باعث میشه سرور کاربر رو بین درخواست‌ها بشناسه (مثلاً برای login یا سبد خرید)
    
- فقط در مرورگر ذخیره میشه → بین مرورگرها یا دستگاه‌ها مشترک نیست مگر در دیتابیس سرور ذخیره بشه
    

---

## ۶️⃣ مشکل Refresh بعد از POST

- وقتی فرم POST شد و صفحه دوباره لود شد، اگه Refresh بزنی مرورگر **دوباره POST می‌فرسته**
    
- برای جلوگیری از این مشکل از **Post/Redirect/Get (PRG) Pattern** استفاده می‌کنیم:
    
    1. فرم POST → ذخیره داده
        
    2. سرور Redirect → GET → نمایش صفحه
        
    3. Refresh فقط GET تکرار میشه، POST نه
        

---

## ۷️⃣ مرورگر چطور HTTP Request می‌سازه

1. نوع درخواست رو از URL یا فرم تشخیص میده (GET یا POST)
    
2. مسیر (Endpoint) و پورت رو از URL استخراج می‌کنه
    
3. اتصال TCP برقرار می‌کنه (یا TLS برای HTTPS)
    
4. متن استاندارد HTTP Request می‌سازه و می‌فرسته
    
5. بعد پاسخ سرور (HTTP Response) رو دریافت و پردازش می‌کنه